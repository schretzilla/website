var quizResults=angular.module("quizResults",[]);quizResults.config(function(t){t.startSymbol("{[{"),t.endSymbol("}]}")}),quizResults.config(["$httpProvider",function(t){t.defaults.xsrfCookieName="csrftoken",t.defaults.xsrfHeaderName="X-CSRFToken"}]),quizResults.controller("QuizResultsCtrl",function(t,e,u){t.loadPage=function(e,u){t.curUserId=e,getCurQuiz(u),buildQuizAndResults(u),getQuestionList(u),getQuizScores(u,e)},getCurQuiz=function(e){getQuiz(e).then(function(e){t.curQuiz=e.data},function(t){alert("Unable to load quiz "+t.message)})},buildQuizAndResults=function(e){getQuestionList(e),getQuizScores(e,t.curUserId)},getQuizScores=function(e,u){getScores(e,u).then(function(e){t.scores=e.data,t.setCurResults(t.scores[t.scores.length-1])},function(t){alert("unable to get user's scores"+t.message)})},t.setCurResults=function(e){t.curResults=e,t.scoreString=e.correct+"/"+(e.correct+e.incorrect),t.curQuizGuesses=t.curResults.question_attempts},t.isCorrect=function(e){for(i in t.curQuizGuesses)if(guess=t.curQuizGuesses[i],guess.question==e.id)return guess.choice==e.answer?!0:(e.correct=!1,!1)},t.questionChosen=function(e,u){if(null!=t.curResults)for(i in t.curResults.question_attempts)if(curAttempt=t.curResults.question_attempts[i],curAttempt.question==e.id)return curAttempt.choice==u.id?!0:!1},getQuestionList=function(e){getQuestions(e).then(function(e){t.questionList=e.data;for(i in t.questionList)var u=t.questionList[i]},function(t){alert("Unable to load questions "+t.message)})},availableQuizzes=function(t){return u.get("/dynoquiz/api/user/"+t+"/availablequiz/")},getScores=function(t,e){return u.get("/dynoquiz/api/quiz/"+t+"/user/"+e+"/score/")},getQuiz=function(t){return u.get("/dynoquiz/api/quiz/"+t+"/")},getQuiz=function(t){return u.get("/dynoquiz/api/quiz/"+t+"/")},getQuestions=function(t){return u.get("/dynoquiz/api/quiz/"+t+"/question")}});